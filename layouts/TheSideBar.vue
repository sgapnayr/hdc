<script setup lang="ts">
// IMPORTS ********************************************************************
import { ref } from 'vue'
import HoneyDewIcon from '@/assets/icons/honeydew-icon.svg'
import { useRouter } from 'vue-router'
import { useRoute } from 'vue-router'
import { Authenticator, useAuthenticator } from '@aws-amplify/ui-vue'
import WavingLady from '@/assets/images/waving-lady.svg'

// ROUTER **********************************************************************
const route = useRoute()
const router = useRouter()
const isModalOpen = ref(false)
const modalExists = ref(false)

// METHODS *************************************************************
function handleModal() {
  modalExists.value = true
  setTimeout(() => {
    isModalOpen.value = true
  }, 1)
}
</script>

<template>
  <div class="w-[80px] bg-white flex flex-col items-center h-screen justify-start">
    <div class="absolute bottom-0">
      <authenticator>
        <template v-slot="{ user, signOut }">
          <h1>Hello {{ user.username }}!</h1>
          <button @click="signOut">Sign Out</button>
        </template>
      </authenticator>
    </div>
    <div>
      <img :src="HoneyDewIcon" alt="Honey Dew Icon" class="mb-[36px] mt-[28px]" />
    </div>
    <div class="gap-y-[14px] flex flex-col">
      <!-- Home Icon -->
      <div class="w-[48px] h-[48px] hover:bg-[#EEEBFC] rounded-full cursor-pointer" :class="[route.path === '/admin' ? 'bg-[#EEEBFC]' : 'hover:bg-[#EEEBFC]']">
        <svg @click="router.push('/admin')" width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path
            :class="[route.path === '/admin' ? 'showIcon' : '']"
            class="cursor-pointer"
            d="
        M24.2614 16.7479C24.1916 16.6811 24.0988 16.6439 24.0022 16.6439C23.9056 16.6439 23.8128 16.6811 23.743 16.7479L15.1133 24.9918C15.0766 25.0268 15.0475 25.069 15.0276 25.1156C15.0077 25.1623 14.9974 25.2125 14.9975 25.2632L14.9961 33.0004C14.9961 33.3982 15.1541 33.7797 15.4354 34.061C15.7167 34.3423 16.0983 34.5004 16.4961 34.5004H21.0008C21.1997 34.5004 21.3905 34.4214 21.5311 34.2807C21.6718 34.1401 21.7508 33.9493 21.7508 33.7504V27.3754C21.7508 27.2759 21.7903 27.1805 21.8606 27.1102C21.9309 27.0399 22.0263 27.0004 22.1258 27.0004H25.8758C25.9752 27.0004 26.0706 27.0399 26.1409 27.1102C26.2113 27.1805 26.2508 27.2759 26.2508 27.3754V33.7504C26.2508 33.9493 26.3298 34.1401 26.4705 34.2807C26.6111 34.4214 26.8019 34.5004 27.0008 34.5004H31.5036C31.9014 34.5004 32.2829 34.3423 32.5643 34.061C32.8456 33.7797 33.0036 33.3982 33.0036 33.0004V25.2632C33.0037 25.2125 32.9934 25.1623 32.9735 25.1156C32.9536 25.069 32.9245 25.0268 32.8878 24.9918L24.2614 16.7479Z
        M35.0114 23.4445L31.5052 20.0902V15C31.5052 14.8011 31.4262 14.6103 31.2855 14.4697C31.1449 14.329 30.9541 14.25 30.7552 14.25H28.5052C28.3063 14.25 28.1155 14.329 27.9748 14.4697C27.8342 14.6103 27.7552 14.8011 27.7552 15V16.5L25.0402 13.9041C24.7861 13.6472 24.4083 13.5 24 13.5C23.5931 13.5 23.2163 13.6472 22.9622 13.9045L12.9919 23.4436C12.7003 23.7249 12.6638 24.1875 12.9291 24.4922C12.9957 24.5691 13.0773 24.6317 13.1688 24.676C13.2604 24.7204 13.36 24.7457 13.4617 24.7503C13.5633 24.755 13.6649 24.7389 13.7601 24.7031C13.8553 24.6672 13.9423 24.6124 14.0156 24.5419L23.7422 15.2475C23.812 15.1807 23.9048 15.1435 24.0014 15.1435C24.098 15.1435 24.1909 15.1807 24.2606 15.2475L33.9881 24.5419C34.1314 24.6793 34.3234 24.7543 34.5219 24.7504C34.7204 24.7466 34.9092 24.6642 35.0471 24.5213C35.3349 24.2231 35.311 23.7309 35.0114 23.4445Z
      "
            fill="#A09DB1"
          />
        </svg>
      </div>

      <!-- File Icon -->
      <div
        class="w-[48px] h-[48px] hover:bg-[#EEEBFC] rounded-full cursor-pointer"
        :class="[route.path === '/tasks-pool' ? 'bg-[#EEEBFC]' : 'hover:bg-[#EEEBFC]']"
      >
        <svg @click="router.push('/tasks-pool')" width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path
            :class="[route.path === '/tasks-pool' ? 'showIcon' : 'icon']"
            class="icon cursor-pointer"
            d="
        M29.25 16.5H18.75C18.5511 16.5 18.3603 16.421 18.2197 16.2803C18.079 16.1397 18 15.9489 18 15.75C18 15.5511 18.079 15.3603 18.2197 15.2197C18.3603 15.079 18.5511 15 18.75 15H29.25C29.4489 15 29.6397 15.079 29.7803 15.2197C29.921 15.3603 30 15.5511 30 15.75C30 15.9489 29.921 16.1397 29.7803 16.2803C29.6397 16.421 29.4489 16.5 29.25 16.5Z
        M30.75 18.75H17.25C17.0511 18.75 16.8603 18.671 16.7197 18.5303C16.579 18.3897 16.5 18.1989 16.5 18C16.5 17.8011 16.579 17.6103 16.7197 17.4697C16.8603 17.329 17.0511 17.25 17.25 17.25H30.75C30.9489 17.25 31.1397 17.329 31.2803 17.4697C31.421 17.6103 31.5 17.8011 31.5 18C31.5 18.1989 31.421 18.3897 31.2803 18.5303C31.1397 18.671 30.9489 18.75 30.75 18.75Z
        M31.6467 33H16.3533C15.7956 32.9994 15.261 32.7776 14.8667 32.3833C14.4724 31.989 14.2506 31.4544 14.25 30.8967V21.6033C14.2506 21.0456 14.4724 20.511 14.8667 20.1167C15.261 19.7224 15.7956 19.5006 16.3533 19.5H31.6467C32.2044 19.5006 32.739 19.7224 33.1333 20.1167C33.5276 20.511 33.7494 21.0456 33.75 21.6033V30.8967C33.7494 31.4544 33.5276 31.989 33.1333 32.3833C32.739 32.7776 32.2044 32.9994 31.6467 33Z
      "
            fill="#A09DB1"
          />
        </svg>
      </div>

      <!-- Patient Icon -->
      <div
        class="w-[48px] h-[48px] hover:bg-[#EEEBFC] rounded-full cursor-pointer"
        :class="[route.path === '/profile' ? 'bg-[#EEEBFC]' : 'hover:bg-[#EEEBFC]']"
      >
        <svg @click="router.push('/profile')" width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path
            class="icon cursor-pointer"
            :class="[route.path === '/profile' ? 'showIcon' : 'icon']"
            d="M24 13C17.9347 13 13 17.9347 13 24C13 30.0653 17.9347 35 24 35C30.0653 35 35 30.0653 35 24C35 17.9347 30.0653 13 24 13ZM21.3441 19.178C22.0142 18.4677 22.9571 18.0769 24 18.0769C25.0429 18.0769 25.9774 18.4704 26.65 19.1843C27.3317 19.9078 27.6633 20.8798 27.585 21.9248C27.4285 24 25.8208 25.6923 24 25.6923C22.1792 25.6923 20.5683 24 20.415 21.9243C20.3372 20.8708 20.6683 19.8956 21.3441 19.178ZM24 33.3077C22.7575 33.3085 21.5274 33.0598 20.3828 32.5763C19.2381 32.0929 18.2023 31.3845 17.3365 30.4932C17.8324 29.7861 18.4641 29.1849 19.1949 28.7247C20.5429 27.8606 22.249 27.3846 24 27.3846C25.751 27.3846 27.4571 27.8606 28.8035 28.7247C29.5349 29.1847 30.1672 29.7859 30.6635 30.4932C29.7978 31.3846 28.7619 32.093 27.6173 32.5765C26.4727 33.06 25.2426 33.3086 24 33.3077Z"
            fill="#A09DB1"
          />
        </svg>
      </div>

      <!-- Lightbulb Icon -->
      <BaseModal>
        <template #button>
          <div
            class="w-[48px] h-[48px] hover:bg-[#EEEBFC] rounded-full cursor-pointer"
            :class="[route.path === '/help' ? 'bg-[#EEEBFC]' : 'hover:bg-[#EEEBFC]']"
          >
            <svg @click="handleModal" width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path
                class="cursor-pointer"
                :class="[route.path === '/help' ? 'showIcon' : 'icon']"
                d="
        M25.5 33.75H22.5C22.3011 33.75 22.1103 33.829 21.9697 33.9697C21.829 34.1103 21.75 34.3011 21.75 34.5C21.75 34.6989 21.829 34.8897 21.9697 35.0303C22.1103 35.171 22.3011 35.25 22.5 35.25H25.5C25.6989 35.25 25.8897 35.171 26.0303 35.0303C26.171 34.8897 26.25 34.6989 26.25 34.5C26.25 34.3011 26.171 34.1103 26.0303 33.9697C25.8897 33.829 25.6989 33.75 25.5 33.75Z
        M26.25 31.5H21.75C21.5511 31.5 21.3603 31.579 21.2197 31.7197C21.079 31.8603 21 32.0511 21 32.25C21 32.4489 21.079 32.6397 21.2197 32.7803C21.3603 32.921 21.5511 33 21.75 33H26.25C26.4489 33 26.6397 32.921 26.7803 32.7803C26.921 32.6397 27 32.4489 27 32.25C27 32.0511 26.921 31.8603 26.7803 31.7197C26.6397 31.579 26.4489 31.5 26.25 31.5Z
        M29.3166 14.9386C27.9071 13.5272 26.0189 12.75 24 12.75C23.0144 12.7477 22.0381 12.9401 21.1271 13.3161C20.2161 13.6922 19.3884 14.2446 18.6915 14.9415C17.9946 15.6384 17.4422 16.4661 17.0661 17.3771C16.6901 18.2881 16.4977 19.2644 16.5 20.25C16.5 22.4353 17.3377 24.4796 18.7969 25.8581L19.0013 26.0499C19.8455 26.8392 21 27.9206 21 28.875V30C21 30.1989 21.079 30.3897 21.2197 30.5304C21.3603 30.671 21.5511 30.75 21.75 30.75H22.875C22.9745 30.75 23.0699 30.7105 23.1402 30.6402C23.2105 30.5699 23.25 30.4745 23.25 30.375V24.8822C23.25 24.8064 23.2271 24.7323 23.1841 24.6698C23.1412 24.6073 23.0803 24.5593 23.0096 24.5321C22.5765 24.3554 22.165 24.1297 21.7833 23.8594C21.6975 23.8046 21.6238 23.7329 21.5666 23.6488C21.5094 23.5646 21.4699 23.4696 21.4506 23.3697C21.4313 23.2697 21.4325 23.1669 21.4542 23.0675C21.4759 22.968 21.5176 22.874 21.5768 22.7912C21.6359 22.7084 21.7113 22.6385 21.7984 22.5858C21.8855 22.5331 21.9823 22.4986 22.0832 22.4845C22.184 22.4704 22.2866 22.477 22.3848 22.5038C22.4829 22.5307 22.5746 22.5772 22.6542 22.6406C23.0011 22.8863 23.6691 23.25 24 23.25C24.331 23.25 24.9989 22.8853 25.3467 22.6406C25.5087 22.5388 25.7034 22.5027 25.8911 22.5398C26.0788 22.5768 26.2452 22.6841 26.3563 22.8398C26.4675 22.9955 26.5149 23.1878 26.489 23.3773C26.463 23.5669 26.3656 23.7393 26.2167 23.8594C25.8349 24.1292 25.4235 24.3544 24.9905 24.5306C24.9197 24.5579 24.8588 24.6059 24.8159 24.6684C24.773 24.7309 24.75 24.805 24.75 24.8808V30.375C24.75 30.4745 24.7895 30.5699 24.8599 30.6402C24.9302 30.7105 25.0256 30.75 25.125 30.75H26.25C26.4489 30.75 26.6397 30.671 26.7804 30.5304C26.921 30.3897 27 30.1989 27 30V28.875C27 27.9431 28.1419 26.8627 28.9758 26.0733L29.206 25.8549C30.7069 24.4219 31.5 22.4817 31.5 20.25C31.505 19.2644 31.3146 18.2875 30.9398 17.3758C30.5651 16.4642 30.0133 15.6358 29.3166 14.9386Z
      "
                fill="#A09DB1"
              />
            </svg>
          </div>
        </template>
        <template #header>
          <img :src="WavingLady" alt="Waving Lady" />
        </template>
        <template #content>
          <div class="bg-white mt-[24px] px-5">
            <div class="text-[20px] font-[500] leading-[24px] text-gray-3">Have questions?</div>
            <div class="text-[16px] mt-[8px] font-[400] leading-[24px]">Have questions?</div>
          </div>
        </template>
      </BaseModal>

      <!-- Users Icon -->
      <div
        class="w-[48px] h-[48px] hover:bg-[#EEEBFC] rounded-full cursor-pointer"
        :class="[route.path === '/employees' ? 'bg-[#EEEBFC]' : 'hover:bg-[#EEEBFC]']"
      >
        <svg @click="router.push('/employees')" width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path
            class="cursor-pointer"
            :class="[route.path === '/employees' ? 'showIcon' : 'icon']"
            d="
        M27.7498 24C26.7861 24 25.8542 23.5697 25.1248 22.7888C24.4156 22.027 23.9825 21.0113 23.9061 19.9294C23.8245 18.7753 24.1766 17.7141 24.897 16.9406C25.6175 16.1672 26.6248 15.75 27.7498 15.75C28.8669 15.75 29.877 16.1747 30.5952 16.9462C31.3203 17.7253 31.6733 18.7847 31.5917 19.9289C31.5134 21.0122 31.0808 22.0275 30.373 22.7883C29.6455 23.5697 28.7141 24 27.7498 24Z
        M33.9302 32.25H21.5716C21.3729 32.2511 21.1766 32.2065 20.9979 32.1198C20.8191 32.0331 20.6626 31.9065 20.5404 31.7498C20.4108 31.58 20.3213 31.383 20.2786 31.1736C20.2359 30.9643 20.2411 30.748 20.2938 30.5409C20.6885 28.9561 21.6663 27.6417 23.1213 26.7403C24.4127 25.9406 26.0566 25.5 27.7507 25.5C29.478 25.5 31.0788 25.9219 32.3777 26.7211C33.836 27.6178 34.8152 28.9397 35.208 30.5438C35.2601 30.751 35.2648 30.9673 35.2216 31.1765C35.1784 31.3857 35.0885 31.5825 34.9587 31.7522C34.8366 31.9082 34.6805 32.0341 34.5022 32.1204C34.3239 32.2067 34.1283 32.251 33.9302 32.25Z
        M18.8899 24.1875C17.2404 24.1875 15.7901 22.6538 15.6556 20.7689C15.589 19.8033 15.8899 18.9103 16.4993 18.2555C17.1021 17.6072 17.9524 17.25 18.8899 17.25C19.8274 17.25 20.6712 17.6091 21.2773 18.2611C21.8914 18.9211 22.1914 19.8122 22.121 20.7698C21.9865 22.6542 20.5367 24.1875 18.8899 24.1875Z
        M21.9684 25.661C21.1439 25.2578 20.0737 25.0563 18.891 25.0563C17.5101 25.0563 16.169 25.4163 15.1143 26.0697C13.9185 26.8117 13.1142 27.8922 12.7893 29.1968C12.7418 29.3844 12.7373 29.5804 12.7762 29.77C12.8151 29.9596 12.8963 30.138 13.0139 30.2918C13.1254 30.4349 13.2683 30.5506 13.4315 30.63C13.5948 30.7093 13.7741 30.7501 13.9556 30.7493H19.1587C19.2465 30.7492 19.3315 30.7184 19.399 30.6621C19.4664 30.6059 19.5119 30.5277 19.5276 30.4413C19.5328 30.4118 19.5393 30.3822 19.5468 30.3532C19.9443 28.7566 20.8757 27.4075 22.252 26.4241C22.3026 26.3876 22.3433 26.3391 22.3704 26.2829C22.3975 26.2267 22.4102 26.1646 22.4073 26.1023C22.4044 26.0399 22.3859 25.9793 22.3536 25.9259C22.3214 25.8725 22.2763 25.828 22.2224 25.7964C22.1489 25.7533 22.0645 25.7078 21.9684 25.661Z
      "
            fill="#A09DB1"
          />
        </svg>
      </div>

      <!-- Logout Icon -->
      <div class="w-[48px] h-[48px] hover:bg-[#EEEBFC] rounded-full cursor-pointer" :class="[route.path === '/login' ? 'bg-[#EEEBFC]' : 'hover:bg-[#EEEBFC]']">
        <svg @click="router.push('/login')" width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path
            class="cursor-pointer"
            :class="[route.path === '/login' ? 'showIcon' : 'icon']"
            d="
        M19.5 24C19.5 23.8011 19.579 23.6103 19.7197 23.4697C19.8603 23.329 20.0511 23.25 20.25 23.25H27V18.375C27 16.875 25.4161 15.75 24 15.75H16.875C16.179 15.7507 15.5118 16.0275 15.0197 16.5197C14.5275 17.0118 14.2507 17.679 14.25 18.375V29.625C14.2507 30.321 14.5275 30.9882 15.0197 31.4803C15.5118 31.9725 16.179 32.2493 16.875 32.25H24.375C25.071 32.2493 25.7382 31.9725 26.2303 31.4803C26.7225 30.9882 26.9993 30.321 27 29.625V24.75H20.25C20.0511 24.75 19.8603 24.671 19.7197 24.5303C19.579 24.3897 19.5 24.1989 19.5 24Z
      M33.5302 23.4694L29.7802 19.7194C29.6384 19.5847 29.4495 19.5107 29.254 19.5132C29.0584 19.5157 28.8715 19.5946 28.7332 19.7329C28.5949 19.8712 28.5161 20.058 28.5136 20.2536C28.5111 20.4492 28.5851 20.638 28.7198 20.7798L31.1892 23.2496H27V24.7496H31.1892L28.7198 27.2194C28.6473 27.2884 28.5892 27.3712 28.5492 27.4629C28.5091 27.5546 28.4878 27.6535 28.4865 27.7536C28.4852 27.8537 28.504 27.953 28.5417 28.0457C28.5794 28.1385 28.6353 28.2227 28.7061 28.2935C28.7769 28.3643 28.8611 28.4202 28.9539 28.4579C29.0466 28.4956 29.1459 28.5144 29.246 28.5131C29.3461 28.5118 29.445 28.4905 29.5367 28.4504C29.6284 28.4104 29.7112 28.3523 29.7802 28.2797L33.5302 24.5298C33.6707 24.3891 33.7497 24.1984 33.7497 23.9996C33.7497 23.8008 33.6707 23.6101 33.5302 23.4694Z
      "
            fill="#A09DB1"
          />
        </svg>
      </div>
    </div>
  </div>
</template>

<style scope>
.myElementSibling:hover {
  background-color: blue;
}

.background:hover,
.icon ~ .background,
.icon:hover ~ .background {
  opacity: 1;
  cursor: pointer;
}

.showIcon {
  fill: #5e39f5;
}

.background {
  opacity: 0;
}
</style>
